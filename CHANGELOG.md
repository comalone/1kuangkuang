# 更新日志 (CHANGELOG)

## [1.2.0] - 2026-01-04

### ✨ 新增功能

#### 双AI引擎支持
- 新增豆包(Doubao)视觉API集成
- 支持在通义千问和豆包之间动态切换
- 自动检测API配置状态

#### API管理
- 新增 `GET /get_api_provider` 接口 - 获取当前API提供商
- 新增 `POST /set_api_provider` 接口 - 切换API提供商
- 新增API配置状态实时显示

#### 用户界面
- 截图结果页面新增API切换按钮
- 新增API状态指示器
- 新增切换成功的视觉反馈
- 自动禁用未配置的API按钮

#### 配置工具
- 新增 `配置豆包API.bat` - 交互式配置助手
- 新增 `test_doubao_api.py` - API测试脚本
- 支持环境变量配置

### 🔧 优化改进

#### 后端优化
- 重构 `auto_upload_task()` 函数支持多API
- 新增 `call_doubao_vl()` 函数
- 新增 `convert_local_image_to_base64()` 工具函数
- 改进错误处理和日志输出

#### 前端优化
- 优化API切换交互体验
- 改进状态管理逻辑
- 新增配置状态检测

### 📝 文档更新

#### 新增文档
- `豆包API使用说明.md` - 详细使用指南
- `豆包API快速开始.md` - 快速上手教程
- `豆包API集成总结.md` - 技术实现说明
- `DOUBAO_API_CONFIG.md` - 配置技术文档

#### 更新文档
- 更新 `README.md` - 添加豆包API说明
- 更新项目结构说明

### 🐛 Bug修复
- 无

### ⚠️ 破坏性变更
- 无

### 📊 技术细节

#### 新增依赖
- 无新增外部依赖

#### API变更
- 新增2个REST API端点
- 向后兼容,不影响现有功能

#### 配置变更
- 新增3个可选环境变量:
  - `DOUBAO_API_KEY`
  - `DOUBAO_API_URL`
  - `DOUBAO_MODEL`

### 🎯 性能影响
- 豆包API使用base64编码,大图片可能增加传输时间
- 建议图片大小控制在2MB以内
- 整体性能影响可忽略

---

## [1.1.0] - 2025-12-30

### ✨ 新增功能
- 优化视频帧率到30 FPS
- 移除不必要的帧跳过逻辑
- 添加性能统计API

### 🔧 优化改进
- 优化三线程架构
- 改进WebSocket推流机制
- 降低JPEG编码质量提升速度

---

## [1.0.0] - 2025-12-25

### ✨ 初始版本

#### 核心功能
- 手势识别截图
- AI智能分析(通义千问)
- 无感交互(OK手势返回)
- 多摄像头支持
- 实时反馈

#### 技术特性
- MediaPipe手势识别
- FastAPI后端
- WebSocket视频流
- 三线程架构

#### 文档
- README.md
- 基础使用说明

---

## 版本说明

### 版本号规则
- 主版本号: 重大架构变更
- 次版本号: 新功能添加
- 修订号: Bug修复和小优化

### 发布周期
- 稳定版: 每月发布
- 测试版: 随时发布
- 热修复: 按需发布

### 支持政策
- 当前版本: 完全支持
- 上一版本: 安全更新
- 更早版本: 不再支持

---

## 即将推出 (Roadmap)

### v1.3.0 (计划中)
- [ ] 图片自动压缩
- [ ] 分析结果缓存
- [ ] 批量图片分析
- [ ] 更多AI模型支持

### v1.4.0 (规划中)
- [ ] 语音交互
- [ ] 视频分析
- [ ] 云端存储
- [ ] 移动端适配

### v2.0.0 (远期)
- [ ] 完整重构
- [ ] 插件系统
- [ ] 多用户支持
- [ ] 商业版本

---

## 贡献者

感谢所有为本项目做出贡献的开发者!

### 主要贡献者
- **禾禾椰** - 项目创建者和主要维护者

### 特别感谢
- MediaPipe团队 - 提供优秀的手势识别库
- 阿里云DashScope - 提供强大的AI能力
- 字节跳动 - 提供豆包视觉API

---

## 许可证

本项目基于 Apache v2 许可证开源。

详见 [LICENSE](LICENSE) 文件。
